---
title: P1217-回文质数
date: 2024-10-10 23:40:40
tags:
    - luogu
    - 算法
    - 题解
---

> [P1217 [USACO1.5] 回文质数 Prime Palindromes](https://www.luogu.com.cn/problem/P1217)

# 思路

先检查是否是回文数，再检查是否是质数。
对于大于7位的数，不可能是回文质数。

# Code

```cpp
#include <algorithm>
#include <cmath>
#include <iostream>

using namespace std;

bool is_palindrome(int x) {
  int num[10];
  int l = 0;
  while (x > 0) {
    num[l] = x % 10;
    l++;
    x /= 10;
  }
  l--;
  for (int i = 0, j = l; i < j; i++, j--) {
    if (num[i] != num[j])
      return false;
  }
  return true;
}

bool is_prime(int x) {
  if (x % 2 == 0)
    return false;
  for (int i = 3; i <= sqrt(x); i += 2) {
    if (x % i == 0) {
      return false;
    }
  }
  return true;
}

int main() {
  std::ios::sync_with_stdio(false);
  cin.tie(nullptr);
  cout.tie(nullptr);
  int a, b;
  cin >> a >> b;
  // 再大的数都不可能是回文质数
  b = min(9999999, b);
  for (int i = a; i <= b; i++) {
    if (is_palindrome(i) && is_prime(i)) {
      cout << i << endl;
    }
  }
  return 0;
}
```